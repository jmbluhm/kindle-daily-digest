# Database
DATABASE_URL=postgresql://user:password@localhost:5432/kindle_assist

# LLM Configuration (OpenAI)
# Required for intelligent article ranking and summarization
# If not set, falls back to keyword-based ranking
OPENAI_API_KEY=sk-xxxxxxxxxxxxxxxxxxxx
OPENAI_MODEL=gpt-4o-mini

# Authentication
ADMIN_API_KEY=your-secure-api-key-here
ADMIN_PASSWORD=your-admin-password-here
SESSION_SECRET=generate-a-random-32-char-string

# Email (Resend)
RESEND_API_KEY=re_xxxxxxxxxxxxxxxxxxxx
EMAIL_FROM=digest@yourdomain.com

# Kindle email addresses (comma-separated)
# IMPORTANT: Whitelist EMAIL_FROM in Amazon Kindle settings:
# https://www.amazon.com/hz/mycd/myx#/home/settings/payment
KINDLE_EMAIL_TO=your_name@kindle.com

# RSS feeds (comma-separated base feeds)
RSS_FEEDS=https://feeds.arstechnica.com/arstechnica/index,https://www.theverge.com/rss/index.xml

# Digest configuration
DIGEST_MAX_ARTICLES=15
DIGEST_MAX_SAVED=5
DIGEST_MAX_RSS=10
DIGEST_MAX_PER_TOPIC=3
DIGEST_SAVE_FEED_ITEMS=false

# Interest-based content scoring (JSON)
# Topics map to keywords that score RSS items
# Optional feeds[] adds topic-specific RSS sources
DIGEST_INTERESTS_JSON='{
  "apple_products_rumors": {
    "keywords": ["apple","iphone","ipad","mac","macbook","watch","vision pro","airpods","ios","macos","m-series","m4","rumor","leak","supply chain"]
  },
  "ai_advancements": {
    "keywords": ["ai","llm","agents","agentic","mcp","model context protocol","rag","inference","fine-tuning","reasoning","multimodal","openai","anthropic","claude","gpt","eval","benchmark"]
  },
  "saas_ecommerce": {
    "keywords": ["saas","subscription","billing","arr","pricing","churn","retention","shopify","ecommerce","payments","checkout","stripe","recurly","acquisition","merger","m&a"]
  },
  "markets_and_stocks": {
    "keywords": ["stocks","earnings","guidance","sec","10-k","10-q","fed","rates","cpi","etf","index","spy","aapl","asts","tsmc","tsm"]
  },
  "product_and_dev_tools": {
    "keywords": ["product management","roadmap","platform","api","developer tools","sdk","workflow","integration"]
  },
  "maker_and_hardware": {
    "keywords": ["laser cutter","lightburn","electronics","rc car","traxxas","3d printing","arduino","raspberry pi"]
  },
  "mtg_commander": {
    "keywords": ["magic the gathering","mtg","commander","edh","spoiler","deck tech","rules update"]
  },
  "outdoors_overlanding": {
    "keywords": ["overlanding","camping","jeep","utv","national park","dispersed camping","solar","dometic"]
  }
}'
